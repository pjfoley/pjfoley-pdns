#### WARNING: This file is managed by Puppet ####

<% if @config_file_options_hash['allow_axfr_ips'] -%>
#################################
# allow-axfr-ips    If enabled, restrict zonetransfers to originate from these
#                   IP addresses
#
allow-axfr-ips=<%= @config_file_options_hash['allow_axfr_ips'].join(',') %>
<% end -%>
<% if @config_file_options_hash['allow-recursion'] -%>
#################################
# allow-recursion	List of netmasks that are allowed to recurse
#
allow-recursion=<%= @config_file_options_hash['allow-recursion'] %>
<% end -%>
<% if @config_file_options_hash['allow_recursion_override'] -%>
#################################
# allow-recursion-override   Local data even about hosts that don't exist will
#                            override the internet. (on/off)
#
allow-recursion-override=<%= @config_file_options_hash['allow-recursion-override'] %>
<% end -%>
<% if @config_file_options_hash['cache-ttl'] -%>
#################################
# cache-ttl	Seconds to store packets in the PacketCache
#
cache-ttl=<%= @config_file_options_hash['cache-ttl'] %>
<% end -%>
<% if @config_file_options_hash['chroot'] -%>
#################################
# chroot	If set, chroot to this directory for more security
#
chroot<%= @config_file_options_hash['chroot'] %>=
<% end -%>
<% if @config_file_options_hash['config-dir'] -%>
#################################
# config-dir	Location of configuration directory (pdns.conf)
#
config-dir=<%= @config_file_options_hash['config-dir'] %>
<% end -%>
<% if @config_file_options_hash['config-name'] -%>
#################################
# config-name	Name of this virtual configuration - will rename the binary image
#
config-name=<%= @config_file_options_hash['config-name'] %>
<% end -%>
<% if @config_file_options_hash['control-console'] -%>
#################################
# control-console	Debugging switch - don't use
#
control-console=<%= @config_file_options_hash['control-console'] %>
<% end -%>
<% if @config_file_options_hash['daemon'] -%>
#################################
# daemon	Operate as a daemon
#
daemon=<%= @config_file_options_hash['daemon'] %>
<% else -%>
daemon=yes
<% end -%>


<% if @config_file_options_hash['default-soa-name'] -%>
#################################
# default-soa-name	name to insert in the SOA record if none set in the backend
#
default-soa-name=<%= @config_file_options_hash['default-soa-name'] %>
<% end -%>

<% if @config_file_options_hash['disable-axfr'] -%>
#################################
# disable-axfr	Disable zonetransfers but do allow TCP queries
#
disable-axfr=<%= @config_file_options_hash['disable-axfr'] %>
<% end -%>

<% if @config_file_options_hash['disable-axfr'] -%>
#################################
# disable-tcp	Do not listen to TCP queries
#
disable-tcp=<%= @config_file_options_hash['disable-axfr'] %>
<% end -%>

<% if @config_file_options_hash['distributor-threads'] -%>
#################################
# distributor-threads	Default number of Distributor (backend) threads to start
#
distributor-threads=<%= @config_file_options_hash['distributor-threads'] %>
<% end -%>

<% if @config_file_options_hash['fancy-records'] -%>
#################################
# fancy-records	Process URL and MBOXFW records
#
fancy-records=<%= @config_file_options_hash['fancy-records'] %>
<% end -%>

<% if @config_file_options_hash['guardian'] -%>
#################################
# guardian	Run within a guardian process
#
guardianf=<%= @config_file_options_hash['guardian'] %>
<% end -%>

<% if @config_file_options_hash['launch'] -%>
#################################
# launch	Which backends to launch and order to query them in
#
launch=<%= @config_file_options_hash['launch'] %>
<% end -%>

<% if @config_file_options_hash['lazy-recursion'] -%>
#################################
# lazy-recursion	Only recurse if question cannot be answered locally
#
lazy-recursion=<%= @config_file_options_hash['lazy-recursion'] %>
<% end -%>

<% if @config_file_options_hash['load-modules'] -%>
#################################
# load-modules	Load this module - supply absolute or relative path
#
load-modules=<%= @config_file_options_hash['load-modules'].join(',') %>
<% end -%>

<% if @config_file_options_hash['local-port'] -%>
#################################
# local-port	The port on which we listen
#
local-port=<%= @config_file_options_hash['local-port'] %>
<% end -%>

<% if @config_file_options_hash['log-dns-details'] -%>
#################################
# log-dns-details	If PDNS should log failed update requests
#
log-dns-details=<%= @config_file_options_hash['log-dns-details'] %>
<% end -%>

<% if @config_file_options_hash['log-failed-updates'] -%>
#################################
# log-failed-updates	If PDNS should log failed update requests
#
log-failed-updates=<%= @config_file_options_hash['log-failed-updates'] %>
<% end -%>

<% if @config_file_options_hash['logfile'] -%>
#################################
# logfile	Logfile to use
#
logfile=<%= @config_file_options_hash['logfile'] %>
<% end -%>

<% if @config_file_options_hash['logging-facility'] -%>
#################################
# logging-facility	Log under a specific facility
#
logging-facility=<%= @config_file_options_hash['logging-facility'] %>
<% end -%>

<% if @config_file_options_hash['loglevel'] -%>
#################################
# loglevel	Amount of logging. Higher is more. Do not set below 3
#
loglevel=<%= @config_file_options_hash['loglevel'] %>
<% end -%>

<% if @config_file_options_hash['master'] -%>
#################################
# master	Act as a master
#
master=<%= @config_file_options_hash['master'] %>
<% end -%>

<% if @config_file_options_hash['max-queue-length'] -%>
#################################
# max-queue-length	Maximum queuelength before considering situation lost
#
max-queue-length=<%= @config_file_options_hash['max-queue-length'] %>
<% end -%>

<% if @config_file_options_hash['max-tcp-connections'] -%>
#################################
# max-tcp-connections	Maximum number of TCP connections
#
max-tcp-connections=<%= @config_file_options_hash['max-tcp-connections'] %>
<% end -%>

<% if @config_file_options_hash['module-dir'] -%>
#################################
# module-dir	Default directory for modules
#
module-dir=<%= @config_file_options_hash['module-dir'] %>
<% end -%>

<% if @config_file_options_hash['negquery-cache-ttl'] -%>
#################################
# negquery-cache-ttl	Seconds to store packets in the PacketCache
#
negquery-cache-ttl=<%= @config_file_options_hash['negquery-cache-ttl'] %>
<% end -%>

<% if @config_file_options_hash['out-of-zone-additional-processing'] -%>
#################################
# out-of-zone-additional-processing	Do out of zone additional processing
#
out-of-zone-additional-processing=<%= @config_file_options_hash['out-of-zone-additional-processing'] %>
<% end -%>

<% if @config_file_options_hash['query-cache-ttl'] -%>
#################################
# query-cache-ttl	Seconds to store packets in the PacketCache
#
query-cache-ttl=<%= @config_file_options_hash['query-cache-ttl'] %>
<% end -%>

<% if @config_file_options_hash['query-logging'] -%>
#################################
# query-logging	Hint backends that queries should be logged
#
query-logging=<%= @config_file_options_hash['query-logging'] %>
<% end -%>

<% if @config_file_options_hash['queue-limit'] -%>
#################################
# queue-limit	Maximum number of milliseconds to queue a query
#
queue-limit=<%= @config_file_options_hash['queue-limit'] %>
<% end -%>

<% if @config_file_options_hash['query-local-address'] -%>
#################################
# query-local-address   The IP address to use as a source address for sending
#                       queries.
query-local-address=<%= @config_file_options_hash['query-local-address'] %>
<% end -%>

<% if @config_file_options_hash['receiver-threads'] -%>
#################################
# receiver-threads	Number of receiver threads to launch
#
receiver-threads=<%= @config_file_options_hash['receiver-threads'] %>
<% end -%>

<% if @config_file_options_hash['recursive-cache-ttl'] -%>
#################################
# recursive-cache-ttl	Seconds to store packets in the PacketCache
#
recursive-cache-ttl=<%= @config_file_options_hash['recursive-cache-ttl'] %>
<% end -%>

<% if @config_file_options_hash['recursor'] -%>
#################################
# recursor	If recursion is desired, IP address of a recursing nameserver
#
recursor=<%= @config_file_options_hash['recursor'] %>
<% end -%>

#################################
# setgid	If set, change group id to this gid for more security
#
setgid=<%= @service_process_group %>

#################################
# setuid	If set, change user id to this uid for more security
#
setuid=<%= @service_process_user %>

<% if @config_file_options_hash['skip-cname'] -%>
#################################
# skip-cname	Do not perform CNAME indirection for each query
#
skip-cname<%= @config_file_options_hash['skip-cname'] %>=
<% end -%>

<% if @config_file_options_hash['slave'] -%>
#################################
# slave	Act as a slave
#
slave=<%= @config_file_options_hash['slave'] %>
<% end -%>

<% if @config_file_options_hash['slave-cycle-interval'] -%>
#################################
# slave-cycle-interval	Reschedule failed SOA serial checks once every .. seconds
#
slave-cycle-interval=<%= @config_file_options_hash['slave-cycle-interval'] %>
<% end -%>

<% if @config_file_options_hash['smtpredirector'] -%>
#################################
# smtpredirector	Our smtpredir MX host
#
smtpredirector=<%= @config_file_options_hash['smtpredirector'] %>
<% end -%>

<% if @config_file_options_hash['soa-minimum-ttl'] -%>
#################################
# soa-minimum-ttl	Default SOA mininum ttl
#
soa-minimum-ttl=<%= @config_file_options_hash['soa-minimum-ttl'] %>
<% end -%>

<% if @config_file_options_hash['soa-refresh-default'] -%>
#################################
# soa-refresh-default  Default SOA refresh
#
soa-refresh-default=<%= @config_file_options_hash['soa-refresh-default'] %>
<% end -%>

<% if @config_file_options_hash['soa-retry-default'] -%>
#################################
# soa-retry-default    Default SOA retry
#
soa-retry-default=<%= @config_file_options_hash['soa-retry-default'] %>
<% end -%>

<% if @config_file_options_hash['soa-expire-default'] -%>
#################################
# soa-expire-default   Default SOA expire
#
soa-expire-default=<%= @config_file_options_hash['soa-expire-default'] %>
<% end -%>

<% if @config_file_options_hash['soa-serial-offset'] -%>
#################################
# soa-serial-offset	Make sure that no SOA serial is less than this number
#
soa-serial-offset=<%= @config_file_options_hash['soa-serial-offset'] %>
<% end -%>

<% if @config_file_options_hash['socket-dir'] -%>
#################################
# socket-dir	Where the controlsocket will live
#
socket-dir=<%= @config_file_options_hash['socket-dir'] %>
<% end -%>

<% if @config_file_options_hash['strict-rfc-axfrs'] -%>
#################################
# strict-rfc-axfrs	Perform strictly rfc compliant axfrs (very slow)
#
strict-rfc-axfrs=<%= @config_file_options_hash['strict-rfc-axfrs'] %>
<% end -%>

<% if @config_file_options_hash['urlredirector'] -%>
#################################
# urlredirector	Where we send hosts to that need to be url redirected
#
urlredirector=<%= @config_file_options_hash['urlredirector'] %>
<% end -%>

<% if @config_file_options_hash['use-logfile'] -%>
#################################
# use-logfile	Use a log file
#
use-logfile=<%= @config_file_options_hash['use-logfile'] %>
<% end -%>

#################################
# local-address	Local IP address to which we bind
#
<% if @config_file_options_hash['local-address'] -%>
local-address=<%= @config_file_options_hash['local-address'] %>
<% else %>
local-address=<%= scope.lookupvar('::ipaddress') %>
<% end -%>

<% if @config_file_options_hash['local-ipv6'] -%>
#################################
# local-ipv6	Local IP address to which we bind
#
local-ipv6=<%= @config_file_options_hash['local-ipv6'] %>
<% end -%>

<% if @config_file_options_hash['webserver'] -%>
#################################
# webserver	Start a webserver for monitoring
#
webserver=<%= @config_file_options_hash['webserver'] %>
<% end -%>

<% if @config_file_options_hash['webserver-address'] -%>
#################################
# webserver-address	IP Address of webserver to listen on
#
webserver-address=<%= @config_file_options_hash['webserver-address'] %>
<% end -%>

<% if @config_file_options_hash['webserver-password'] -%>
#################################
# webserver-password	Password required for accessing the webserver
#
webserver-password=<%= @config_file_options_hash['webserver-password'] %>
<% end -%>

<% if @config_file_options_hash['webserver-port'] -%>
#################################
# webserver-port	Port of webserver to listen on
#
webserver-port=<%= @config_file_options_hash['webserver-port'] %>
<% end -%>

<% if @config_file_options_hash['webserver-print-arguments'] -%>
#################################
# webserver-print-arguments	If the webserver should print arguments
#
webserver-print-arguments=<%= @config_file_options_hash['webserver-print-arguments'] %>
<% end -%>

<% if @config_file_options_hash['wildcard-url'] -%>
#################################
# wildcard-url	Process URL and MBOXFW records
#
wildcard-url=<%= @config_file_options_hash['wildcard-url'] %>
<% end -%>

<% if @config_file_options_hash['wildcards'] -%>
#################################
# wildcards	Honor wildcards in the database
#
wildcards=<%= @config_file_options_hash['wildcards'] %>
<% end -%>

<% if @config_file_options_hash['version-string'] -%>
#################################
# version-string   What should PowerDNS return for version
#                  allowed methods are anonymous / powerdns / full / custom
version-string=<%= @config_file_options_hash['version-string'] %>
<% end -%>

<% if @config_file_options_hash['include'] -%>
include=<%= @config_file_options_hash['include'] %>
<% end -%>
